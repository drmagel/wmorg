exports.validate = function(req, res){
  var api = 'validate'
    , sessID = req.headers.auth;
  if ( sessID === undefined ||
       sessID !== req.body.sessID ) {return res.end()};
  res.set('Content-Type', 'application/json');
  res.set('Auth', sessID);
//------------------------------------------------------
  var email = req.body.email || ''
    , passw = req.body.password || ''
    ;

  ldap.validate(email, passw, function(data){
    data.sessID = sessID;
    if(data.result){
      session.update(sessID, function(e,r){
        if(e){return res.status(500).json({error: "API:"+api+": "+e})};
        res.json(data);
      });
    } else {
      res.json(data);
    }
  });
}

