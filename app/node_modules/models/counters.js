// Counters model - APIs for the counters collection in the wwmmorg DB
var collectionName = 'counters',
    model = function(){

  this.db = {};
  this.collection = {};

  this.setDB = function(db) {
    this.db = db;
    this.collection = db.collection(collectionName);
    return this;
  };

  this.get =  function(ID, callback) {
    return this.collection.findOneAndUpdate(
      {_id: ID},
      {$inc: { seq: 1 }},
      {returnOriginal: true},
      callback || function(){});
  };
};

module.exports = new model();
