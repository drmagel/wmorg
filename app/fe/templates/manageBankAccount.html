<!-- BankAccountFormTmpl.html -->
  <script type="text/ng-template" id="BankAccountFormTmpl.html">
    <form class="form-horizontal" id="bankAccountForm" name="bankAccountForm">
      <div class="form-group">
        <label class="col-sm-3 control-label" style="float:{{lang.floatDir}};text-align:{{lang.oppositeFloatDir}}"
          for="bankName">{{lang.tr('bankName')}}</label>
        <div class="col-sm-9">
          <select class="form-control" name="bankName" id="bankName"
            ng-model="bankName" ng-init="createBankList()" ng-change="setBankName(bankName)" ng-required>
            <option ng-repeat="b in bankList" value="{{b}}" >{{lang.tr(b)}}</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label" style="float:{{lang.floatDir}};text-align:{{lang.oppositeFloatDir}}"
          for="bankBranch">{{lang.tr('bankBranch')}}</label>
        <div class="col-sm-9">
          <input class="form-control" style="text-align:{{lang.floatDir}}" type="text" name="bankBranch"
            id="bankBranch" ng-model="bankBranch" ng-change="setBankBranch(bankBranch)"
            autocomplete="off" ng-change="changed(bankBranch)" ng-required></input>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label" style="float:{{lang.floatDir}};text-align:{{lang.oppositeFloatDir}}"
          for="bankAccount">{{lang.tr('bankAccount')}}</label>
        <div class="col-sm-9">
          <input class="form-control" style="text-align:{{lang.floatDir}}" type="text" name="bankAccount"
            id="bankAccount" ng-model="bankAccount" ng-change="setBankAccount(bankAccount)"
            autocomplete="off" ng-required></input>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label" style="float:{{lang.floatDir}};text-align:{{lang.oppositeFloatDir}}"
          for="accountOwner">{{lang.tr('accountOwner')}}</label>
        <div class="col-sm-9">
          <input class="form-control" style="text-align:{{lang.floatDir}}" type="text" name="accountOwner"
            id="accountOwner" ng-model="accountOwner" ng-change="setAccountOwner(accountOwner)" ng-required></input>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-3" style="float:{{lang.floatDir}};"></div>
        <div class="col-sm-9"> 
          <button class="btn btn-{{btnClass}} pull-{{lang.oppositeFloatDir}}" type="button" ng-click="btnFunction()" ng-disabled="disabledAdd()">
            <span class="glyphicon glyphicon-{{btnSign}}"></span>
          </button>
          <button class="btn btn-warning pull-{{lang.floatDir}}" type="button" ng-click="cleanAndClose()">
            {{lang.tr('cancel')}}
          </button>
        </div>
      </div>
    </form>
  </script>

<div ng-controller="setLangCtrl" style="direction:{{lang.direction}}">
  <div class="modal-header centered">
    <h3 class="modal-title">{{lang.tr('managementBankAccounts')}}</h3>
  </div>
  <div class="modal-body" ng-init="initAddAccount()">
  
    <div ng-include="bankAccountFormTmpl"></div>
    <div class="table-responsive">      
      <table class="table table-condensed"  ng-show="bankAccounts.length > 0">
        <tr class="warning" style="font-weight:bold">
          <td>{{lang.tr('bankName')}}</td>
          <td>{{lang.tr('bankBranch')}}</td>
          <td>{{lang.tr('bankAccount')}}</td>
          <td colspan="3">{{lang.tr('accountOwner')}}</td>
        </tr>
        <tr class="active" ng-repeat="acc in bankAccounts track by $index">
          <td>{{lang.tr(acc.bank)}}</td>
          <td>{{acc.branch}}</td>
          <td>{{acc.account}}</td>
          <td>{{acc.accountOwner}}</td>
          <td class="register-table-btn"><a href="" ng-click="editBankAccout($index)" ><span class="glyphicon glyphicon-pencil"></span></a></td>
          <td class="register-table-btn"><a href="" ng-click="removeBankAccount($index)" ><span class="glyphicon glyphicon-trash"></span></a></td>
        </tr>
      </table>
    </div>
  </div>
  
  <div class="modal-footer" style="text-align:{{lang.floatDir}}">
    <div class="row wmo-modal-footer">      
      <button class="btn btn-warning pull-{{lang.floatDir}}" type="button" ng-click="cancel()">{{lang.tr('cancel')}}</button>
      <button class="btn btn-primary pull-{{lang.oppositeFloatDir}}" type="button" ng-disabled="disabled()" ng-click="done()">{{lang.tr('done')}}</button>
      <button class="btn btn-success wmo-btn-middle" type="button" ng-disabled="isFormOpened()" ng-click="addBankAccount()"><span class="glyphicon glyphicon-plus"></span></button>
    </div>
  </div>
</div>

